<!DOCTYPE html>
<html>
<head>
  <title>Speed Tasks</title>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
  <link href='./css/reset.css' rel='stylesheet' type='test/css'>
  <link href='./css/styles.css' rel='stylesheet' type='test/css'>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</head>
<body>
  <div id="board">
    <ul id=listone>
      <li>TASKS</li>
      <li id='add'><img onclick='del()' height="16" width="16" src="./images/delete.png" alt="add task"></li>
    </ul>
    <div class="list"></div>
    <input id='todo' type='text' onchange="show()" name='task'>
  </div>
</body>
<script type='text/javascript'>

  var taskArray = [];

  if (localStorage.length != 0) {
      for (e in localStorage) {
        taskArray[e] = localStorage.getItem(e);
      }
  }


  function show() {
    var task = $('#todo').val();
    if ( $('#todo').val() != '') {
      var count = taskArray.length;

      taskArray.push(task);
      $('.list').append("<div class='tasks'><input class='taskCheck' onclick='clickme(this)' type='checkbox'><span class='taskNo'>"+ count +". "+"</span><span class='task'>"+taskArray[count]+"</span></div>");
      $('#todo').val('');

      localStorage.clear();
      for (e in taskArray) {
        localStorage.setItem(e, taskArray[e]);
      }
    }
  }

  if (localStorage.length != 0) {
    for (e in localStorage) {
      $('.list').append("<div class='tasks'><input class='taskCheck' onclick='clickme(this)' type='checkbox'><span class='taskNo'>"+ e +". "+"</span><span class='task'>"+localStorage.getItem(e)+"</span></div>");
    }
  }

  function clickme(x) {
    if (!x.checked) {
      $(x).checked = true;
    }
    if (x.checked)
      $(x).checked = false;
  }
  // function del() {
  //   var count = localStorage.length;
  //   if (count > 0) {
  //     $('.taskCheck').each(function(){
  //       if($(this).is(":checked")) {
  //         console.log($(this).parent().remove());
  //       }
  //     });
  //   }
  // }


</script>
</html>
